# Resource Logs

## Azure Resource Logs:

Azure Resource Logs (formerly known as Diagnostic Logs) provide detailed, granular insights into the operations and activities occurring within or on Azure resources. They are crucial for auditing, monitoring, troubleshooting, and ensuring compliance within an Azure environment. These resource logs are pushed into tables that can be reviewed in multiple ways. These include log analytics workspace, EventHub, and Storage blob.&#x20;

## Overview of Resource Logs

**Resource Logs** capture operational data and events for specific Azure resources. Unlike metrics, which provide quantitative data on resource performance, resource logs offer detailed, event-specific information about the actions and operations performed on or by an Azure resource.

### Key Characteristics of Resource Logs

1. **Event-Driven**:
   * Resource Logs are generated by events and actions that occur within or on a resource. These events could be user-driven (e.g., a user modifying a resource) or system-driven (e.g., an automatic update or a process execution).
2. **Granularity**:
   * Resource Logs provide a high level of detail, capturing specific actions and their outcomes. For example, they can log individual API calls, access attempts, configuration changes, or transactions within a resource.
3. **Resource-Specific**:
   * Resource Logs are tailored to the specific type of Azure resource. Different types of resources (e.g., virtual machines, databases, storage accounts, etc.) generate different kinds of logs based on the operations relevant to them.

### Types of Resource Logs

1. **Azure Activity Logs** (formerly Operational Logs):
   * Track the control-plane operations (i.e., management operations) performed on Azure resources. This includes actions like resource creation, modification, and deletion.
   * These logs are essential for auditing who did what and when across the Azure environment.
2. **Diagnostics Logs**:
   * Capture data-plane operations and more detailed resource-specific activities. This includes logs of data access operations, errors, warnings, and informational messages generated by the resource itself.
   * For example, a storage account might generate logs that detail every read or write operation performed on the blobs within that account.
3. **Audit Logs**:
   * Capture security-related events, such as access control changes, policy enforcement, and access attempts. These logs are crucial for compliance and security monitoring.
   * Often used in conjunction with Azure Policy and Azure Security Center to ensure resources are compliant with organizational standards.

### Common Use Cases for Resource Logs

1. **Auditing**:
   * Resource Logs are often used to audit actions taken within an Azure environment. For instance, you can audit who accessed a particular storage account or who modified a virtual machine's configuration.
   * Audit logs are particularly important for meeting regulatory compliance requirements.
2. **Monitoring and Troubleshooting**:
   * Resource Logs provide insights into the operational health of resources. For example, if a web application is experiencing errors, you can inspect the resource logs to identify the root cause, such as failed requests or exceptions.
   * They also help in detecting and diagnosing issues related to performance, security, and configuration.
3. **Security Monitoring**:
   * Security teams use Resource Logs to monitor for suspicious activities or potential security breaches. Logs can show unauthorized access attempts, changes to security settings, or unusual patterns of resource access.
   * Integration with Azure Sentinel (Microsoftâ€™s SIEM solution) allows for advanced threat detection and automated responses.
4. **Compliance Reporting**:
   * Resource Logs can be used to generate reports for compliance with industry standards such as GDPR, HIPAA, or SOC 2. They provide a detailed record of access and changes to sensitive resources.

### Collection and Storage of Resource Logs

* **Azure Monitor**: Resource Logs can be collected and analyzed using Azure Monitor, which provides tools for querying, visualizing, and alerting based on log data.
* **Log Analytics**: Resource Logs can be ingested into an Azure Log Analytics workspace, where they can be queried using Kusto Query Language (KQL). This is useful for in-depth analysis and correlation of log data across multiple resources.
* **Event Hub**: For real-time streaming and integration with third-party systems, Resource Logs can be streamed to an Azure Event Hub.
* **Storage Account**: Logs can be archived to an Azure Storage Account for long-term retention and compliance purposes.

### Configuring Resource Logs

* **Diagnostic Settings**: To start collecting Resource Logs, you need to configure Diagnostic Settings for the resource. This involves specifying what type of logs to collect and where to send them (e.g., Log Analytics, Event Hub, Storage Account).
* **Retention Policies**: You can configure retention policies based on your needs, ensuring logs are kept for the required duration to meet compliance or auditing requirements.

### Best Practices for Using Resource Logs

1. **Enable Logs for Critical Resources**: Ensure that Resource Logs are enabled for all critical resources, such as those storing sensitive data or supporting key business functions.
2. **Monitor and Alert**: Set up alerts on specific log events, such as failed access attempts or unauthorized changes, to quickly respond to potential security incidents.
3. **Regularly Review Logs**: Implement a regular log review process to identify anomalies, performance issues, or compliance violations.
4. **Integrate with SIEM**: Integrate Resource Logs with a Security Information and Event Management (SIEM) solution like Azure Sentinel for advanced threat detection and response.





